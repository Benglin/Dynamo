def __flatten(list : var[], amt : int, acc : var[])
{
	[Imperative]
	{
		if (amt == 0)
		{
			for (item in list)
			{
				acc.Append(item);
			}
		}
		else
		{
			for (item in list)
			{
				__flatten(item, amt-1, acc);
			}
		}
	}
}

def __flatten(item : var, amt : int, acc : var[])
{
	acc.Append(item);
}

def FlattenByAmount(list : var[], amt : int)
{
	acc = {};
	__flatten(list, amt, acc);
	
	return = acc;
}